{"mappings":"IEEI,EACA,EAEJ,SAAS,IACP,EAAK,YAAY,GACjB,SAAS,oBAAoB,UAAW,EAC1C,CAEA,SAAS,EAAgB,CAAK,EACV,WAAd,EAAM,KACR,GAEJ,CAEA,SAAS,EAAkB,CAAK,EAC1B,EAAM,SAAW,GACnB,GAEJ,CAEA,SAAS,EAAY,CAAK,CAAE,CAAW,EACrC,EAAO,SAAS,cAAc,oBAE9B,AADA,CAAA,EAAW,SAAS,cAAc,MAAA,EACzB,UAAU,IAAI,YAMvB,IAAM,EAAY,CAChB,GAAI,EAAM,GACV,MAAO,EAAM,OAAS,EAAM,KAC5B,YAAa,EAAM,YACnB,aAAc,EAAM,aACpB,WAAY,EAAM,WAClB,WAAY,KAAK,MAAM,EAAM,YAC7B,cAAe,EAAM,cACrB,aAAc,EAAM,cAAgB,EAAM,eAC1C,SAAU,EAAM,SAChB,UAAW,EAAM,SACnB,EAIM,EAAS,MAAM,QAAQ,EAAM,WAC/B,EAAM,UACH,IAAI,AAAA,IACH,IAAM,EAAQ,EAAY,KAAK,AAAA,GAAK,EAAE,KAAO,GAC7C,OAAO,EAAQ,EAAM,KAAO,EAC9B,GACC,OAAO,AAAA,GAAS,AAAU,KAAV,GACnB,EAAE,CAEA,EAAc,EAAM,YACtB,CAAC,+BAA+B,EAAE,EAAM,YAAY,CAAC,CACrD,sEAGJ,CAAA,EAAS,UAAY,CAAC;;;oBAGJ,EAAE,EAAY,OAAO,EACrC,EAAM,OAAS,EAAM,KACtB;;qCAEkC,EAAE,EAAM,OAAS,EAAM,KAAK;;;;4DAIL,EAAE,EAAU,aAAa,QACnE,GACA;;sBAEI,EAAE,EAAU,WAAW;;;;;8CAKC,EAAE,EAAU,WAAW;;;;;sBAK/C,EAAE,EAAM,OAAS,EAAM,KAAK;;;;;8CAKJ,EAAE,EAAO,KAAK,MAAM;;;;kDAIhB,EAAE,EAAU,SAAS;;;;;;;cAOzD,CAAC,CAEb,EAAK,YAAY,GACjB,IAAM,EAAgB,SAAS,eAAe,mBAC9C,EAAc,iBAAiB,QAAS,GAOxC,IAAM,EAAa,SAAS,eAAe,eAC3C,EAAW,iBAAiB,QAAS,WACnC,IAAM,EAAa,aAAa,QAAQ,iBACpC,EAAgB,EAAa,KAAK,MAAM,GAAc,EAAE,CACtD,EAAc,EAAc,KAAK,AAAA,GAAK,EAAE,KAAO,EAAU,IAE1D,IACH,EAAc,KAAK,GACnB,aAAa,QAAQ,gBAAiB,KAAK,UAAU,IAEzD,GAEA,IAAM,EAAW,SAAS,eAAe,aACzC,EAAS,iBAAiB,QAAS,WACjC,IAAM,EAAa,aAAa,QAAQ,gBACpC,EAAe,EAAa,KAAK,MAAM,GAAc,EAAE,CACrD,EAAc,EAAa,KAAK,AAAA,GAAK,EAAE,KAAO,EAAU,IAEzD,IACH,EAAa,KAAK,GAClB,aAAa,QAAQ,eAAgB,KAAK,UAAU,IAExD,GAEA,SAAS,iBAAiB,UAAW,GACrC,EAAS,iBAAiB,QAAS,GAEnC,EAAK,YAAY,EACnB,CC5IO,MAAM,EAAc,CACzB,CAAE,GAAI,GAAI,KAAM,WAAY,EAC5B,CAAE,GAAI,GAAI,KAAM,SAAU,EAC1B,CAAE,GAAI,GAAI,KAAM,WAAY,EAC5B,CAAE,GAAI,GAAI,KAAM,OAAQ,EACxB,CAAE,GAAI,GAAI,KAAM,QAAS,EACzB,CAAE,GAAI,GAAI,KAAM,QAAS,EACzB,CAAE,GAAI,GAAI,KAAM,QAAS,EACzB,CAAE,GAAI,GAAI,KAAM,SAAU,EAC1B,CAAE,GAAI,GAAI,KAAM,SAAU,EAC1B,CAAE,GAAI,GAAI,KAAM,UAAW,EAC3B,CAAE,GAAI,GAAI,KAAM,OAAQ,EACxB,CAAE,GAAI,GAAI,KAAM,aAAc,EAC9B,CAAE,GAAI,IAAK,KAAM,iBAAkB,EACnC,CAAE,GAAI,KAAM,KAAM,SAAU,EAC5B,CAAE,GAAI,MAAO,KAAM,OAAQ,EAC3B,CAAE,GAAI,MAAO,KAAM,SAAU,EAC7B,CAAE,GAAI,MAAO,KAAM,QAAS,EAC5B,CAAE,GAAI,MAAO,KAAM,KAAM,EACzB,CAAE,GAAI,MAAO,KAAM,UAAW,EAC/B,CFjBK,EAAY,SAAS,eAAe,WAEpC,EAAmB,uEAEzB,IAAI,EAAoB,EACpB,EAAmB,EAEvB,SAAS,EAAqB,CAAI,EAChC,IAAM,EAAgB,aAAa,QAAQ,iBACrC,EAAsB,KAAK,MAAM,GACvC,GAAI,EAAe,CACjB,IAAM,EAAa,AAAC,CAAA,EAAO,CAAA,EAAK,EAC1B,EAAW,EAAa,EACxB,EAAkB,EAAoB,MAAM,EAAY,GA0C9D,GAxCA,EAAgB,QAAQ,AAAA,IACtB,IAAM,EAAW,SAAS,cAAc,OACxC,EAAS,UAAU,IAAI,yBACvB,EAAS,iBAAiB,QAAS,WACjC,AAAA,EAAY,EAAO,EACrB,GAEA,IAAM,EAAS,MAAM,QAAQ,EAAM,WAC/B,EAAM,UACH,IAAI,AAAA,IACH,IAAM,EAAQ,AAAA,EAAY,KAAK,AAAA,GAAK,EAAE,KAAO,GAC7C,OAAO,EAAQ,EAAM,KAAO,EAC9B,GACC,OAAO,AAAA,GAAS,AAAU,KAAV,GACnB,EAAE,CAEA,EAAW,EAAM,aACjB,EAAO,EACT,EAAS,MAAM,EAAG,GAClB,EAAM,eACN,EAAM,eAAe,MAAM,EAAG,GAC9B,EAEJ,CAAA,EAAS,UAAY,CAAC;;oBAER,EACR,EAAM,YACF,CAAC,+BAA+B,EAAE,EAAM,YAAY,CAAC,CACrD,EACL,OAAO,EAAE,EAAM,OAAS,EAAM,KAAK;;;6CAGD,EAAE,EAAM,OAAS,EAAM,KAAK;+CAC1B,EAAE,EAAO,KAAK,MAAM;mDAChB,EAAE,EAAK;wDACF,EAAE,EAAM,aAAa,QAAQ,GAAG;;MAElF,CAAC,CACD,EAAU,YAAY,EACxB,GACI,EAAoB,OAAS,EAAU,CACzC,IAAM,EAAiB,EAAqB,qBAC5C,EAAU,YAAY,EACxB,CACF,KAAO,CACL,IAAM,EAAkB,SAAS,cAAc,IAC/C,CAAA,EAAgB,YAAc,4BAC9B,EAAU,YAAY,EACxB,CACF,CAEA,SAAS,EAAoB,CAAI,EAC/B,IAAM,EAAe,aAAa,QAAQ,gBACpC,EAAqB,KAAK,MAAM,GACtC,GAAI,EAAc,CAChB,IAAM,EAAa,AAAC,CAAA,EAAO,CAAA,EAAK,EAC1B,EAAW,EAAa,EACxB,EAAkB,EAAmB,MAAM,EAAY,GA2C7D,GAzCA,EAAgB,QAAQ,AAAA,IACtB,IAAM,EAAW,SAAS,cAAc,OACxC,EAAS,UAAU,IAAI,yBACvB,EAAS,iBAAiB,QAAS,WACjC,AAAA,EAAY,EAAO,EACrB,GAEA,IAAM,EAAS,MAAM,QAAQ,EAAM,WAC/B,EAAM,UACH,IAAI,AAAA,IACH,IAAM,EAAQ,AAAA,EAAY,KAAK,AAAA,GAAK,EAAE,KAAO,GAC7C,OAAO,EAAQ,EAAM,KAAO,EAC9B,GACC,OAAO,AAAA,GAAS,AAAU,KAAV,GACnB,EAAE,CAEA,EAAW,EAAM,aACjB,EAAO,EACT,EAAS,MAAM,EAAG,GAClB,EAAM,eACN,EAAM,eAAe,MAAM,EAAG,GAC9B,EAEJ,CAAA,EAAS,UAAY,CAAC;;wBAEJ,EACR,EAAM,YACF,CAAC,+BAA+B,EAAE,EAAM,YAAY,CAAC,CACrD,EACL,OAAO,EAAE,EAAM,OAAS,EAAM,KAAK;;;iDAGD,EAAE,EAAM,OAAS,EAAM,KAAK;mDAC1B,EAAE,EAAO,KAAK,MAAM;uDAChB,EAAE,EAAK;4DACF,EAAE,EAAM,aAAa,QAAQ,GAAG;;UAElF,CAAC,CAEL,EAAU,YAAY,EACxB,GACI,EAAmB,OAAS,EAAU,CACxC,IAAM,EAAiB,EAAqB,oBAC5C,EAAU,YAAY,EACxB,CACF,KAAO,CACL,IAAM,EAAkB,SAAS,cAAc,IAC/C,CAAA,EAAgB,YAAc,0BAC9B,EAAU,YAAY,EACxB,CACF,CAEA,SAAS,EAAqB,CAAE,EAC9B,IAAM,EAAiB,SAAS,cAAc,UAU9C,OATA,EAAe,GAAK,EACpB,EAAe,YAAc,YAC7B,EAAe,iBAAiB,QAAS,WACnC,AAAO,sBAAP,EACF,AAQN,WACE,IAAM,EAAiB,SAAS,eAAe,qBAC/C,EAAe,SAEf,IAAqB,EACvB,IAZsB,qBAAP,GACT,AAaN,WACE,IAAM,EAAiB,SAAS,eAAe,oBAC/C,EAAe,SAEf,IAAoB,EACtB,GAhBE,GACO,CACT,CAgBA,MAAM,EAAgB,SAAS,eAAe,mBACxC,EAAc,SAAS,eAAe,kBAE5C,EAAc,iBAAiB,QAAS,WACtC,EAAoB,EACpB,EAAU,UAAY,GACtB,EAAqB,EACvB,GAEA,EAAY,iBAAiB,QAAS,WACpC,EAAmB,EACnB,EAAU,UAAY,GACtB,EAAoB,EACtB","sources":["<anon>","src/js/watched-movies.js","src/js/modal.js","src/js/genres.js"],"sourcesContent":["let $2ea800676e6f7669$var$main; // Zmienna globalna\nlet $2ea800676e6f7669$var$backDrop; // Zmienna globalna\nfunction $2ea800676e6f7669$export$3f6fecd573f3fa48() {\n    $2ea800676e6f7669$var$main.removeChild($2ea800676e6f7669$var$backDrop);\n    document.removeEventListener(\"keydown\", $2ea800676e6f7669$var$closeModalOnEsc);\n}\nfunction $2ea800676e6f7669$var$closeModalOnEsc(event) {\n    if (event.key === \"Escape\") $2ea800676e6f7669$export$3f6fecd573f3fa48();\n}\nfunction $2ea800676e6f7669$var$closeModalOnClick(event) {\n    if (event.target === $2ea800676e6f7669$var$backDrop) $2ea800676e6f7669$export$3f6fecd573f3fa48();\n}\nfunction $2ea800676e6f7669$export$b63bc83cbdd7b6d5(movie, movieGenres) {\n    $2ea800676e6f7669$var$main = document.querySelector(\".movie-container\"); // Przypisanie wartości do zmiennej globalnej\n    $2ea800676e6f7669$var$backDrop = document.createElement(\"div\"); // Przypisanie wartości do zmiennej globalnej\n    $2ea800676e6f7669$var$backDrop.classList.add(\"backdrop\");\n    // if (!Array.isArray(movie.genres)) {\n    //   console.error('Invalid movie.genre_ids data');\n    //   return;\n    // }\n    const modalData = {\n        id: movie.id,\n        title: movie.title || movie.name,\n        poster_path: movie.poster_path,\n        vote_average: movie.vote_average,\n        vote_count: movie.vote_count,\n        popularity: Math.floor(movie.popularity),\n        original_name: movie.original_name,\n        release_date: movie.release_date || movie.first_air_date,\n        overview: movie.overview,\n        genre_ids: movie.genre_ids\n    };\n    // Mapowanie nazw gatunków na podstawie identyfikatorów\n    const genres = Array.isArray(movie.genre_ids) ? movie.genre_ids.map((genreId)=>{\n        const genre = movieGenres.find((g)=>g.id === genreId);\n        return genre ? genre.name : \"\";\n    }).filter((genre)=>genre !== \"\") : [];\n    const ModalPoster = movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : `https://upload.wikimedia.org/wikipedia/commons/5/55/Brak_obrazka.svg`;\n    // Tworzenie modala\n    $2ea800676e6f7669$var$backDrop.innerHTML = ` \n        <div id=\"modal\" class=\"modal\">\n          <button id=\"close-modal-btn\" type=\"button\" class=\"modal__close\">&times;</button>\n          <img src=\"${ModalPoster}\" alt=\"${movie.title || movie.name} Poster\" class=\"modal__image\" />\n          <div class=\"modal__text\">\n            <h3 class=\"modal__title\">${movie.title || movie.name}</h3>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Vote / Votes</p>\n              <p class=\"modal__info__details\">\n                <span class=\"modal__info__details__ranking\">${modalData.vote_average.toFixed(1)}</span>\n                <span class=\"modal__info__category\"> / </span>\n                <span>${modalData.vote_count}</span>\n              </p>\n            </div>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Popularity</p>\n              <p class=\"modal__info__details\">${modalData.popularity}</p>\n            </div>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Original Title</p>\n              <p class=\"modal__info__details\">\n                <span>${movie.title || movie.name}<span>\n              </p>\n            </div>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Genre</p>\n              <p class=\"modal__info__details\">${genres.join(\", \")}</p>\n            </div>\n            <article class=\"modal__description\">ABOUT\n              \n              <p class=\"modal__description__text\">${modalData.overview}</p>\n            </article>\n            <div class=\"modal__buttons\">\n              <button id=\"watched-btn\" >ADD TO WATCHED</button>\n              <button id=\"queue-btn\">ADD TO QUEUE</button>\n            </div>\n          </div>\n        </div>`;\n    $2ea800676e6f7669$var$main.appendChild($2ea800676e6f7669$var$backDrop);\n    const closeModalBtn = document.getElementById(\"close-modal-btn\");\n    closeModalBtn.addEventListener(\"click\", $2ea800676e6f7669$export$3f6fecd573f3fa48);\n    // const closeModal = document.getElementById('close-modal-btn');\n    // closeModal.addEventListener('click', function () {\n    //   main.removeChild(backDrop);\n    // });\n    const watchedBtn = document.getElementById(\"watched-btn\");\n    watchedBtn.addEventListener(\"click\", function() {\n        const storedData = localStorage.getItem(\"watchedMovies\");\n        let watchedMovies = storedData ? JSON.parse(storedData) : [];\n        const movieExists = watchedMovies.some((m)=>m.id === modalData.id);\n        if (!movieExists) {\n            watchedMovies.push(modalData);\n            localStorage.setItem(\"watchedMovies\", JSON.stringify(watchedMovies));\n        }\n    });\n    const queueBtn = document.getElementById(\"queue-btn\");\n    queueBtn.addEventListener(\"click\", function() {\n        const storedData = localStorage.getItem(\"queuedMovies\");\n        let queuedMovies = storedData ? JSON.parse(storedData) : [];\n        const movieExists = queuedMovies.some((m)=>m.id === modalData.id);\n        if (!movieExists) {\n            queuedMovies.push(modalData);\n            localStorage.setItem(\"queuedMovies\", JSON.stringify(queuedMovies));\n        }\n    });\n    document.addEventListener(\"keydown\", $2ea800676e6f7669$var$closeModalOnEsc);\n    $2ea800676e6f7669$var$backDrop.addEventListener(\"click\", $2ea800676e6f7669$var$closeModalOnClick);\n    $2ea800676e6f7669$var$main.appendChild($2ea800676e6f7669$var$backDrop);\n}\n\n\nconst $bc36aade2b53bb55$export$c457b37a14a0b5e4 = [\n    {\n        id: 12,\n        name: \"Adventure\"\n    },\n    {\n        id: 14,\n        name: \"Fantasy\"\n    },\n    {\n        id: 16,\n        name: \"Animation\"\n    },\n    {\n        id: 18,\n        name: \"Drama\"\n    },\n    {\n        id: 27,\n        name: \"Horror\"\n    },\n    {\n        id: 28,\n        name: \"Action\"\n    },\n    {\n        id: 35,\n        name: \"Comedy\"\n    },\n    {\n        id: 36,\n        name: \"History\"\n    },\n    {\n        id: 37,\n        name: \"Western\"\n    },\n    {\n        id: 53,\n        name: \"Thriller\"\n    },\n    {\n        id: 80,\n        name: \"Crime\"\n    },\n    {\n        id: 99,\n        name: \"Documentary\"\n    },\n    {\n        id: 878,\n        name: \"Science Fiction\"\n    },\n    {\n        id: 9648,\n        name: \"Mystery\"\n    },\n    {\n        id: 10402,\n        name: \"Music\"\n    },\n    {\n        id: 10749,\n        name: \"Romance\"\n    },\n    {\n        id: 10751,\n        name: \"Family\"\n    },\n    {\n        id: 10752,\n        name: \"War\"\n    },\n    {\n        id: 10770,\n        name: \"TV Movie\"\n    }\n];\n\n\nconst $e1f6811c1465dc34$var$movieList = document.getElementById(\"library\");\nconst $e1f6811c1465dc34$var$apiKey = \"f2bec2f8de04498ca2fd18780a529a31\";\nconst $e1f6811c1465dc34$var$fallbackImageURL = \"https://upload.wikimedia.org/wikipedia/commons/5/55/Brak_obrazka.svg\";\nlet $e1f6811c1465dc34$var$watchedMoviesPage = 1;\nlet $e1f6811c1465dc34$var$queuedMoviesPage = 1;\nfunction $e1f6811c1465dc34$var$displayWatchedMovies(page) {\n    const watchedMovies = localStorage.getItem(\"watchedMovies\");\n    const parsedWatchedMovies = JSON.parse(watchedMovies);\n    if (watchedMovies) {\n        const startIndex = (page - 1) * 6;\n        const endIndex = startIndex + 6;\n        const moviesToDisplay = parsedWatchedMovies.slice(startIndex, endIndex);\n        moviesToDisplay.forEach((movie)=>{\n            const movieDiv = document.createElement(\"div\");\n            movieDiv.classList.add(\"movie-container__card\");\n            movieDiv.addEventListener(\"click\", function() {\n                (0, $2ea800676e6f7669$export$b63bc83cbdd7b6d5)(movie, (0, $bc36aade2b53bb55$export$c457b37a14a0b5e4));\n            });\n            const genres = Array.isArray(movie.genre_ids) ? movie.genre_ids.map((genreId)=>{\n                const genre = (0, $bc36aade2b53bb55$export$c457b37a14a0b5e4).find((g)=>g.id === genreId);\n                return genre ? genre.name : \"\";\n            }).filter((genre)=>genre !== \"\") : [];\n            const fullDate = movie.release_date;\n            const year = fullDate ? fullDate.slice(0, 4) : movie.first_air_date ? movie.first_air_date.slice(0, 4) : \"\";\n            movieDiv.innerHTML = `\n        <div class=\"movie-container__image-box\">\n          <img src=\"${movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : $e1f6811c1465dc34$var$fallbackImageURL}\" alt=\"${movie.title || movie.name} Poster\" class=\"movie-container__image\">\n        </div>\n        <p class=\"movie-container__movie-description\">\n          <h2 class=\"movie-container__title\">${movie.title || movie.name}</h2>\n          <span class=\"movie-container__genre\">${genres.join(\", \")} | </span>\n          <span class=\"movie-container__screening\">${year}</span>\n          <span class=\"movie-container__rating-display\">${movie.vote_average.toFixed(1)}</span>\n        </p>\n      `;\n            $e1f6811c1465dc34$var$movieList.appendChild(movieDiv);\n        });\n        if (parsedWatchedMovies.length > endIndex) {\n            const loadMoreButton = $e1f6811c1465dc34$var$createLoadMoreButton(\"load-more-watched\");\n            $e1f6811c1465dc34$var$movieList.appendChild(loadMoreButton);\n        }\n    } else {\n        const noMoviesMessage = document.createElement(\"p\");\n        noMoviesMessage.textContent = \"No movies in the watched.\";\n        $e1f6811c1465dc34$var$movieList.appendChild(noMoviesMessage);\n    }\n}\nfunction $e1f6811c1465dc34$var$displayQueuedMovies(page) {\n    const queuedMovies = localStorage.getItem(\"queuedMovies\");\n    const parsedQueuedMovies = JSON.parse(queuedMovies);\n    if (queuedMovies) {\n        const startIndex = (page - 1) * 6;\n        const endIndex = startIndex + 6;\n        const moviesToDisplay = parsedQueuedMovies.slice(startIndex, endIndex);\n        moviesToDisplay.forEach((movie)=>{\n            const movieDiv = document.createElement(\"div\");\n            movieDiv.classList.add(\"movie-container__card\");\n            movieDiv.addEventListener(\"click\", function() {\n                (0, $2ea800676e6f7669$export$b63bc83cbdd7b6d5)(movie, (0, $bc36aade2b53bb55$export$c457b37a14a0b5e4)); // Przekazanie danych filmu jako argument do createModal\n            });\n            const genres = Array.isArray(movie.genre_ids) ? movie.genre_ids.map((genreId)=>{\n                const genre = (0, $bc36aade2b53bb55$export$c457b37a14a0b5e4).find((g)=>g.id === genreId);\n                return genre ? genre.name : \"\";\n            }).filter((genre)=>genre !== \"\") : [];\n            const fullDate = movie.release_date;\n            const year = fullDate ? fullDate.slice(0, 4) : movie.first_air_date ? movie.first_air_date.slice(0, 4) : \"\";\n            movieDiv.innerHTML = `\n           <div class= movie-container__image-box>\n              <img src=\"${movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : $e1f6811c1465dc34$var$fallbackImageURL}\" alt=\"${movie.title || movie.name} Poster\" class=\"movie-container__image\">\n           </div>\n            <p class=\"movie-container__movie-description\">\n              <h2 class=\"movie-container__title\">${movie.title || movie.name}</h2>\n              <span class=\"movie-container__genre\">${genres.join(\", \")} | </span>\n              <span class=\"movie-container__screening\">${year}</span>\n              <span class=\"movie-container__rating-display\">${movie.vote_average.toFixed(1)}</span>\n            </p>\n          `;\n            $e1f6811c1465dc34$var$movieList.appendChild(movieDiv);\n        });\n        if (parsedQueuedMovies.length > endIndex) {\n            const loadMoreButton = $e1f6811c1465dc34$var$createLoadMoreButton(\"load-more-queued\");\n            $e1f6811c1465dc34$var$movieList.appendChild(loadMoreButton);\n        }\n    } else {\n        const noMoviesMessage = document.createElement(\"p\");\n        noMoviesMessage.textContent = \"No movies in the queue.\";\n        $e1f6811c1465dc34$var$movieList.appendChild(noMoviesMessage);\n    }\n}\nfunction $e1f6811c1465dc34$var$createLoadMoreButton(id) {\n    const loadMoreButton = document.createElement(\"button\");\n    loadMoreButton.id = id;\n    loadMoreButton.textContent = \"Load More\";\n    loadMoreButton.addEventListener(\"click\", function() {\n        if (id === \"load-more-watched\") $e1f6811c1465dc34$var$loadMoreWatchedMovies();\n        else if (id === \"load-more-queued\") $e1f6811c1465dc34$var$loadMoreQueuedMovies();\n    });\n    return loadMoreButton;\n}\nfunction $e1f6811c1465dc34$var$loadMoreWatchedMovies() {\n    const loadMoreButton = document.getElementById(\"load-more-watched\");\n    loadMoreButton.remove();\n    $e1f6811c1465dc34$var$watchedMoviesPage++;\n    $e1f6811c1465dc34$var$displayWatchedMovies($e1f6811c1465dc34$var$watchedMoviesPage);\n}\nfunction $e1f6811c1465dc34$var$loadMoreQueuedMovies() {\n    const loadMoreButton = document.getElementById(\"load-more-queued\");\n    loadMoreButton.remove();\n    $e1f6811c1465dc34$var$queuedMoviesPage++;\n    $e1f6811c1465dc34$var$displayQueuedMovies($e1f6811c1465dc34$var$queuedMoviesPage);\n}\nconst $e1f6811c1465dc34$var$watchedButton = document.getElementById(\"library-watched\");\nconst $e1f6811c1465dc34$var$queueButton = document.getElementById(\"library-queued\");\n$e1f6811c1465dc34$var$watchedButton.addEventListener(\"click\", function() {\n    $e1f6811c1465dc34$var$watchedMoviesPage = 1;\n    $e1f6811c1465dc34$var$movieList.innerHTML = \"\";\n    $e1f6811c1465dc34$var$displayWatchedMovies($e1f6811c1465dc34$var$watchedMoviesPage);\n});\n$e1f6811c1465dc34$var$queueButton.addEventListener(\"click\", function() {\n    $e1f6811c1465dc34$var$queuedMoviesPage = 1;\n    $e1f6811c1465dc34$var$movieList.innerHTML = \"\";\n    $e1f6811c1465dc34$var$displayQueuedMovies($e1f6811c1465dc34$var$queuedMoviesPage);\n});\n\n\n//# sourceMappingURL=library.a9be47ee.js.map\n","import { createModal } from './modal';\nimport { movieGenres } from './genres';\n\nconst movieList = document.getElementById('library');\nconst apiKey = 'f2bec2f8de04498ca2fd18780a529a31';\nconst fallbackImageURL = 'https://upload.wikimedia.org/wikipedia/commons/5/55/Brak_obrazka.svg';\n\nlet watchedMoviesPage = 1;\nlet queuedMoviesPage = 1;\n\nfunction displayWatchedMovies(page) {\n  const watchedMovies = localStorage.getItem('watchedMovies');\n  const parsedWatchedMovies = JSON.parse(watchedMovies);\n  if (watchedMovies) {\n    const startIndex = (page - 1) * 6;\n    const endIndex = startIndex + 6;\n    const moviesToDisplay = parsedWatchedMovies.slice(startIndex, endIndex);\n\n    moviesToDisplay.forEach(movie => {\n      const movieDiv = document.createElement('div');\n      movieDiv.classList.add('movie-container__card');\n      movieDiv.addEventListener('click', function () {\n        createModal(movie, movieGenres);\n      });\n\n      const genres = Array.isArray(movie.genre_ids)\n        ? movie.genre_ids\n            .map(genreId => {\n              const genre = movieGenres.find(g => g.id === genreId);\n              return genre ? genre.name : '';\n            })\n            .filter(genre => genre !== '')\n        : [];\n\n      const fullDate = movie.release_date;\n      const year = fullDate\n        ? fullDate.slice(0, 4)\n        : movie.first_air_date\n        ? movie.first_air_date.slice(0, 4)\n        : '';\n\n      movieDiv.innerHTML = `\n        <div class=\"movie-container__image-box\">\n          <img src=\"${\n            movie.poster_path\n              ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n              : fallbackImageURL\n          }\" alt=\"${movie.title || movie.name} Poster\" class=\"movie-container__image\">\n        </div>\n        <p class=\"movie-container__movie-description\">\n          <h2 class=\"movie-container__title\">${movie.title || movie.name}</h2>\n          <span class=\"movie-container__genre\">${genres.join(', ')} | </span>\n          <span class=\"movie-container__screening\">${year}</span>\n          <span class=\"movie-container__rating-display\">${movie.vote_average.toFixed(1)}</span>\n        </p>\n      `;\n      movieList.appendChild(movieDiv);\n    });\n    if (parsedWatchedMovies.length > endIndex) {\n      const loadMoreButton = createLoadMoreButton('load-more-watched');\n      movieList.appendChild(loadMoreButton);\n    }\n  } else {\n    const noMoviesMessage = document.createElement('p');\n    noMoviesMessage.textContent = 'No movies in the watched.';\n    movieList.appendChild(noMoviesMessage);\n  }\n}\n\nfunction displayQueuedMovies(page) {\n  const queuedMovies = localStorage.getItem('queuedMovies');\n  const parsedQueuedMovies = JSON.parse(queuedMovies);\n  if (queuedMovies) {\n    const startIndex = (page - 1) * 6;\n    const endIndex = startIndex + 6;\n    const moviesToDisplay = parsedQueuedMovies.slice(startIndex, endIndex);\n\n    moviesToDisplay.forEach(movie => {\n      const movieDiv = document.createElement('div');\n      movieDiv.classList.add('movie-container__card');\n      movieDiv.addEventListener('click', function () {\n        createModal(movie, movieGenres); // Przekazanie danych filmu jako argument do createModal\n      });\n\n      const genres = Array.isArray(movie.genre_ids)\n        ? movie.genre_ids\n            .map(genreId => {\n              const genre = movieGenres.find(g => g.id === genreId);\n              return genre ? genre.name : '';\n            })\n            .filter(genre => genre !== '')\n        : [];\n\n      const fullDate = movie.release_date;\n      const year = fullDate\n        ? fullDate.slice(0, 4)\n        : movie.first_air_date\n        ? movie.first_air_date.slice(0, 4)\n        : '';\n\n      movieDiv.innerHTML = `\n           <div class= movie-container__image-box>\n              <img src=\"${\n                movie.poster_path\n                  ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                  : fallbackImageURL\n              }\" alt=\"${movie.title || movie.name} Poster\" class=\"movie-container__image\">\n           </div>\n            <p class=\"movie-container__movie-description\">\n              <h2 class=\"movie-container__title\">${movie.title || movie.name}</h2>\n              <span class=\"movie-container__genre\">${genres.join(', ')} | </span>\n              <span class=\"movie-container__screening\">${year}</span>\n              <span class=\"movie-container__rating-display\">${movie.vote_average.toFixed(1)}</span>\n            </p>\n          `;\n\n      movieList.appendChild(movieDiv);\n    });\n    if (parsedQueuedMovies.length > endIndex) {\n      const loadMoreButton = createLoadMoreButton('load-more-queued');\n      movieList.appendChild(loadMoreButton);\n    }\n  } else {\n    const noMoviesMessage = document.createElement('p');\n    noMoviesMessage.textContent = 'No movies in the queue.';\n    movieList.appendChild(noMoviesMessage);\n  }\n}\n\nfunction createLoadMoreButton(id) {\n  const loadMoreButton = document.createElement('button');\n  loadMoreButton.id = id;\n  loadMoreButton.textContent = 'Load More';\n  loadMoreButton.addEventListener('click', function () {\n    if (id === 'load-more-watched') {\n      loadMoreWatchedMovies();\n    } else if (id === 'load-more-queued') {\n      loadMoreQueuedMovies();\n    }\n  });\n  return loadMoreButton;\n}\n\nfunction loadMoreWatchedMovies() {\n  const loadMoreButton = document.getElementById('load-more-watched');\n  loadMoreButton.remove();\n  watchedMoviesPage++;\n  displayWatchedMovies(watchedMoviesPage);\n}\n\nfunction loadMoreQueuedMovies() {\n  const loadMoreButton = document.getElementById('load-more-queued');\n  loadMoreButton.remove();\n  queuedMoviesPage++;\n  displayQueuedMovies(queuedMoviesPage);\n}\n\nconst watchedButton = document.getElementById('library-watched');\nconst queueButton = document.getElementById('library-queued');\n\nwatchedButton.addEventListener('click', function () {\n  watchedMoviesPage = 1;\n  movieList.innerHTML = '';\n  displayWatchedMovies(watchedMoviesPage);\n});\n\nqueueButton.addEventListener('click', function () {\n  queuedMoviesPage = 1;\n  movieList.innerHTML = '';\n  displayQueuedMovies(queuedMoviesPage);\n});\n","export { createModal, closeModal };\n\nlet main; // Zmienna globalna\nlet backDrop; // Zmienna globalna\n\nfunction closeModal() {\n  main.removeChild(backDrop);\n  document.removeEventListener('keydown', closeModalOnEsc);\n}\n\nfunction closeModalOnEsc(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction closeModalOnClick(event) {\n  if (event.target === backDrop) {\n    closeModal();\n  }\n}\n\nfunction createModal(movie, movieGenres) {\n  main = document.querySelector('.movie-container'); // Przypisanie wartości do zmiennej globalnej\n  backDrop = document.createElement('div'); // Przypisanie wartości do zmiennej globalnej\n  backDrop.classList.add('backdrop');\n  // if (!Array.isArray(movie.genres)) {\n  //   console.error('Invalid movie.genre_ids data');\n  //   return;\n  // }\n\n  const modalData = {\n    id: movie.id,\n    title: movie.title || movie.name,\n    poster_path: movie.poster_path,\n    vote_average: movie.vote_average,\n    vote_count: movie.vote_count,\n    popularity: Math.floor(movie.popularity),\n    original_name: movie.original_name,\n    release_date: movie.release_date || movie.first_air_date,\n    overview: movie.overview,\n    genre_ids: movie.genre_ids,\n  };\n\n  // Mapowanie nazw gatunków na podstawie identyfikatorów\n\n  const genres = Array.isArray(movie.genre_ids)\n    ? movie.genre_ids\n        .map(genreId => {\n          const genre = movieGenres.find(g => g.id === genreId);\n          return genre ? genre.name : '';\n        })\n        .filter(genre => genre !== '')\n    : [];\n\n  const ModalPoster = movie.poster_path\n    ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n    : `https://upload.wikimedia.org/wikipedia/commons/5/55/Brak_obrazka.svg`;\n  // Tworzenie modala\n\n  backDrop.innerHTML = ` \n        <div id=\"modal\" class=\"modal\">\n          <button id=\"close-modal-btn\" type=\"button\" class=\"modal__close\">&times;</button>\n          <img src=\"${ModalPoster}\" alt=\"${\n    movie.title || movie.name\n  } Poster\" class=\"modal__image\" />\n          <div class=\"modal__text\">\n            <h3 class=\"modal__title\">${movie.title || movie.name}</h3>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Vote / Votes</p>\n              <p class=\"modal__info__details\">\n                <span class=\"modal__info__details__ranking\">${modalData.vote_average.toFixed(\n                  1,\n                )}</span>\n                <span class=\"modal__info__category\"> / </span>\n                <span>${modalData.vote_count}</span>\n              </p>\n            </div>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Popularity</p>\n              <p class=\"modal__info__details\">${modalData.popularity}</p>\n            </div>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Original Title</p>\n              <p class=\"modal__info__details\">\n                <span>${movie.title || movie.name}<span>\n              </p>\n            </div>\n            <div class=\"modal__info\">\n              <p class=\"modal__info__category\">Genre</p>\n              <p class=\"modal__info__details\">${genres.join(', ')}</p>\n            </div>\n            <article class=\"modal__description\">ABOUT\n              \n              <p class=\"modal__description__text\">${modalData.overview}</p>\n            </article>\n            <div class=\"modal__buttons\">\n              <button id=\"watched-btn\" >ADD TO WATCHED</button>\n              <button id=\"queue-btn\">ADD TO QUEUE</button>\n            </div>\n          </div>\n        </div>`;\n\n  main.appendChild(backDrop);\n  const closeModalBtn = document.getElementById('close-modal-btn');\n  closeModalBtn.addEventListener('click', closeModal);\n\n  // const closeModal = document.getElementById('close-modal-btn');\n  // closeModal.addEventListener('click', function () {\n  //   main.removeChild(backDrop);\n  // });\n\n  const watchedBtn = document.getElementById('watched-btn');\n  watchedBtn.addEventListener('click', function () {\n    const storedData = localStorage.getItem('watchedMovies');\n    let watchedMovies = storedData ? JSON.parse(storedData) : [];\n    const movieExists = watchedMovies.some(m => m.id === modalData.id);\n\n    if (!movieExists) {\n      watchedMovies.push(modalData);\n      localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));\n    }\n  });\n\n  const queueBtn = document.getElementById('queue-btn');\n  queueBtn.addEventListener('click', function () {\n    const storedData = localStorage.getItem('queuedMovies');\n    let queuedMovies = storedData ? JSON.parse(storedData) : [];\n    const movieExists = queuedMovies.some(m => m.id === modalData.id);\n\n    if (!movieExists) {\n      queuedMovies.push(modalData);\n      localStorage.setItem('queuedMovies', JSON.stringify(queuedMovies));\n    }\n  });\n\n  document.addEventListener('keydown', closeModalOnEsc);\n  backDrop.addEventListener('click', closeModalOnClick);\n\n  main.appendChild(backDrop);\n}\n","export const movieGenres = [\n  { id: 12, name: 'Adventure' },\n  { id: 14, name: 'Fantasy' },\n  { id: 16, name: 'Animation' },\n  { id: 18, name: 'Drama' },\n  { id: 27, name: 'Horror' },\n  { id: 28, name: 'Action' },\n  { id: 35, name: 'Comedy' },\n  { id: 36, name: 'History' },\n  { id: 37, name: 'Western' },\n  { id: 53, name: 'Thriller' },\n  { id: 80, name: 'Crime' },\n  { id: 99, name: 'Documentary' },\n  { id: 878, name: 'Science Fiction' },\n  { id: 9648, name: 'Mystery' },\n  { id: 10402, name: 'Music' },\n  { id: 10749, name: 'Romance' },\n  { id: 10751, name: 'Family' },\n  { id: 10752, name: 'War' },\n  { id: 10770, name: 'TV Movie' },\n];\n"],"names":["$2ea800676e6f7669$var$main","$2ea800676e6f7669$var$backDrop","$2ea800676e6f7669$export$3f6fecd573f3fa48","removeChild","document","removeEventListener","$2ea800676e6f7669$var$closeModalOnEsc","event","key","$2ea800676e6f7669$var$closeModalOnClick","target","$2ea800676e6f7669$export$b63bc83cbdd7b6d5","movie","movieGenres","querySelector","createElement","classList","add","modalData","id","title","name","poster_path","vote_average","vote_count","popularity","Math","floor","original_name","release_date","first_air_date","overview","genre_ids","genres","Array","isArray","map","genreId","genre","find","g","filter","ModalPoster","innerHTML","toFixed","join","appendChild","closeModalBtn","getElementById","addEventListener","watchedBtn","storedData","localStorage","getItem","watchedMovies","JSON","parse","movieExists","some","m","push","setItem","stringify","queueBtn","queuedMovies","$bc36aade2b53bb55$export$c457b37a14a0b5e4","$e1f6811c1465dc34$var$movieList","$e1f6811c1465dc34$var$fallbackImageURL","$e1f6811c1465dc34$var$watchedMoviesPage","$e1f6811c1465dc34$var$queuedMoviesPage","$e1f6811c1465dc34$var$displayWatchedMovies","page","parsedWatchedMovies","startIndex","endIndex","moviesToDisplay","slice","forEach","movieDiv","fullDate","year","length","loadMoreButton","$e1f6811c1465dc34$var$createLoadMoreButton","noMoviesMessage","textContent","$e1f6811c1465dc34$var$displayQueuedMovies","parsedQueuedMovies","$e1f6811c1465dc34$var$loadMoreWatchedMovies","remove","$e1f6811c1465dc34$var$loadMoreQueuedMovies","$e1f6811c1465dc34$var$watchedButton","$e1f6811c1465dc34$var$queueButton"],"version":3,"file":"library.a9be47ee.js.map"}